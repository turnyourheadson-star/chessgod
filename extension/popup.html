<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>ChessGod</title>
  <link rel="stylesheet" href="popup.css">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Special+Gothic+Expanded+One&family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap" rel="stylesheet">
</head>
<body>
  <!-- pixel loader removed; splash will show immediately -->

  <!-- New Splash Intro (always first) -->
  <div id="splash" aria-live="polite">
    <div id="splashInner">
      <div id="splashLogoWrap">
        <img id="splashLogo" src="icons/icon128.png" alt="ChessGod logo" />
      </div>
      <h1 id="splashTitle" aria-hidden="true"><span id="splashTitleText"></span></h1>
      <div id="splashTagline" class="splash-tagline">From Blunder to Brilliance!</div>
      <div id="platformChoices" class="platform-choices">
        <div class="platform-circle left tooltip" data-platform="chesscom" data-tooltip="Chess.com">
          <img src="icons/chess.com_logo.png" alt="Chess.com" class="platform-logo">
        </div>
        <div class="platform-circle right tooltip" data-platform="lichess" data-tooltip="Lichess.org">
          <img src="icons/lichess.org_logo.png" alt="Lichess.org" class="platform-logo">
        </div>
      </div>
      <div class="inputBox hidden">
        <input required="" type="text">
        <span>Username</span>
      </div>
    </div>
  </div>

  <div id="mainUI" class="hidden" aria-hidden="true">
    
    <!-- Keep these elements but hide them, they're needed for functionality -->
    <div style="display: none;">
      <input id="username" type="text" />
      <select id="platform">
        <option value="chesscom">Chess.com</option>
        <option value="lichess">Lichess</option>
      </select>
    </div>

    <ul id="gamesList"></ul>

    <!-- Game info section -->
    <div id="gameInfoWrapper" class="hidden analysis-element">
      <div class="game-info">
        <button id="backToGames" class="back-button">←</button>
        <div class="game-players">
          <span id="whitePlayerInfo">White: </span>
          <span id="blackPlayerInfo">Black: </span>
        </div>
      </div>
    </div>
    
    <!-- Keep summary table -->
    <div id="summaryWrapper" class="hidden analysis-element" style="width:100%; margin-top:12px;">
      <table id="summaryTable" class="summary-table" aria-label="Game summary">
        <colgroup>
          <col style="width:12%" />
          <col style="width:9%" />
          <col style="width:9%" />
          <col style="width:9%" />
          <col style="width:9%" />
          <col style="width:9%" />
          <col style="width:9%" />
          <col style="width:9%" />
          <col style="width:9%" />
          <col style="width:15%" />
        </colgroup>
        <thead>
          <tr>
            <th>Move</th>
            <th title="Brilliant"><img src="icons/brilliant.png" class="summary-icon" alt="Brilliant"/></th>
            <th title="Great"><img src="icons/great.png" class="summary-icon" alt="Great"/></th>
            <th title="Best"><img src="icons/best.png" class="summary-icon" alt="Best"/></th>
            <th title="Excellent"><img src="icons/excellent.png" class="summary-icon" alt="Excellent"/></th>
            <th title="Good"><img src="icons/good.png" class="summary-icon" alt="Good"/></th>
            <th title="Inaccuracy"><img src="icons/inaccuracy.png" class="summary-icon" alt="Inaccuracy"/></th>
            <th title="Mistake"><img src="icons/mistake.png" class="summary-icon" alt="Mistake"/></th>
            <th title="Blunder"><img src="icons/blunder.png" class="summary-icon" alt="Blunder"/></th>
            <th>Total</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>White</td>
            <td id="white-brilliant">0</td>
            <td id="white-great">0</td>
            <td id="white-best">0</td>
            <td id="white-excellent">0</td>
            <td id="white-good">0</td>
            <td id="white-inaccuracy">0</td>
            <td id="white-mistake">0</td>
            <td id="white-blunder">0</td>
            <td id="white-total">0</td>
          </tr>
          <tr>
            <td>Black</td>
            <td id="black-brilliant">0</td>
            <td id="black-great">0</td>
            <td id="black-best">0</td>
            <td id="black-excellent">0</td>
            <td id="black-good">0</td>
            <td id="black-inaccuracy">0</td>
            <td id="black-mistake">0</td>
            <td id="black-blunder">0</td>
            <td id="black-total">0</td>
          </tr>
        </tbody>
      </table>
    </div>

    <!-- Analysis results section -->
    <div id="results" class="hidden">
      <div class="results-header">
        <h3>Analysis Results</h3>
      </div>
    </div>
    <div id="moveInfo">
      <div id="moveType" class="move-type"></div>
    </div>
    <div id="boardContainer" class="hidden analysis-element">
        <div id="chessboard">
            <div id="arrowContainer" class="arrow-container"></div>
        </div>
        <div id="boardControls">
          <div class="button-container">
            <button id="prevMove" title="Previous move" disabled>←</button>
            <button id="nextMove" title="Next move" disabled>→</button>
          </div>
          <div class="keyboard-hint">Arrow keys are allowed too</div>
        </div>
        
      </div>
    </div>

    

  </div>

  <!-- Overlay placed outside mainUI so it is not blurred when mainUI is blurred -->
  <div id="analysisOverlay" class="hidden">
    <div class="overlay-content">
      <!-- From Uiverse.io by Nawsome -->
      <div class="banter-loader">
        <div class="banter-loader__box"></div>
        <div class="banter-loader__box"></div>
        <div class="banter-loader__box"></div>
        <div class="banter-loader__box"></div>
        <div class="banter-loader__box"></div>
        <div class="banter-loader__box"></div>
        <div class="banter-loader__box"></div>
        <div class="banter-loader__box"></div>
        <div class="banter-loader__box"></div>
      </div>
      <div id="analysisProgress" class="analysis-progress">
        <div id="analysisProgressBar" class="progress-bar"><div id="analysisProgressFill" class="progress-fill" style="width:0%"></div></div>
        <div id="analysisProgressLabel" class="progress-label">Starting analysis...</div>
      </div>
    </div>
  </div>
  </div>
  

  <script src="utils.js"></script>
  <script src="popup.js"></script>
</body>
</html>